(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9cd03004"],{"0c79":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"20px"}},[a("v-toolbar",{attrs:{color:"#2e62cd",dark:""}},[a("v-toolbar-title",[t._v("首页头图列表")]),a("v-divider",{staticClass:"mx-4",attrs:{vertical:""}}),a("span",{staticClass:"subheading"},[t._v("共"+t._s(t.tags.length)+"个。")]),a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{dark:"",color:"primary"},on:{click:t.dialogControl}},[t._v("添加")])],1),a("v-card",{staticClass:"employee-list mb-1"},[a("v-card-title",{staticClass:"pa-6 pb-3"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"搜索",clearable:"","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.tags,search:t.search,"item-key":"name","show-select":""},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-dialog",{attrs:{"max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"标题"},model:{value:t.editedItem.pptTitle,callback:function(e){t.$set(t.editedItem,"pptTitle",e)},expression:"editedItem.pptTitle"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"副标题"},model:{value:t.editedItem.pptSubTitle,callback:function(e){t.$set(t.editedItem,"pptSubTitle",e)},expression:"editedItem.pptSubTitle"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"头像链接"},model:{value:t.editedItem.pptImage,callback:function(e){t.$set(t.editedItem,"pptImage",e)},expression:"editedItem.pptImage"}}),t._v(" 头图预览："),a("v-img",{attrs:{src:t.editedItem.pptImage,"max-height":"250px","max-width":"250px"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"链接"},model:{value:t.editedItem.pptLink,callback:function(e){t.$set(t.editedItem,"pptLink",e)},expression:"editedItem.pptLink"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"排序(越小越靠前)"},model:{value:t.editedItem.rank,callback:function(e){t.$set(t.editedItem,"rank",e)},expression:"editedItem.rank"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)]},proxy:!0},{key:"item.pptImage",fn:function(t){var e=t.item;return[a("a",{attrs:{href:e.pptImage,target:"_blank"}},[a("v-img",{attrs:{src:e.pptImage,"max-height":"200px","max-width":"200px"}})],1)]}},{key:"item.createdAt",fn:function(e){var a=e.item;return[t._v(" "+t._s(t._f("formatDate")(a.createdAt,"yyyy年MM月dd日hh:mm"))+" ")]}},{key:"item.updatedAt",fn:function(e){var a=e.item;return[t._v(" "+t._s(t._f("formatDate")(a.createdAt,"yyyy年MM月dd日hh:mm"))+" ")]}},{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(i)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)},n=[],s={props:{selected:[],search:""},data:()=>({tags:[],dialog:!1,headers:[{text:"标题",align:"start",sortable:!1,value:"pptTitle"},{text:"副标题",value:"pptSubTitle"},{text:"链接",value:"pptLink"},{text:"图片",value:"pptImage"},{text:"排序",value:"rank"},{text:"创建时间",value:"createdAt"},{text:"更新时间",value:"updatedAt"},{text:"Actions",value:"actions",sortable:!1}],editedIndex:-1,editedItem:{pptTitle:"",pptSubTitle:"",pptLink:"",pptImage:"",rank:0},defaultItem:{pptTitle:"",pptSubTitle:"",pptLink:"",pptImage:"",rank:0}}),computed:{formTitle(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog(t){t||this.close()}},created(){this.get()},methods:{async get(){const t=await this.$http.getPpt();return this.tags=t[0].data},dialogControl(){this.dialog=!this.dialog},editItem(t){this.editedIndex=this.tags.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},async deleteItem(t){const e=this.tags.indexOf(t);confirm("是否删除该首页头图?")&&(await this.$http.delPpt(t._id),this.tags.splice(e,1))},close(){this.dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},async save(){if(this.editedIndex>-1){Object.assign(this.tags[this.editedIndex],this.editedItem);await this.$http.upPpt(this.editedItem)}else{await this.$http.createPpt(this.editedItem);this.tags.push(this.editedItem)}this.close()}}},l=s,r=a("2877"),d=a("6544"),o=a.n(d),c=a("8336"),u=a("b0afa"),p=a("99d9"),f=a("62ad"),m=a("a523"),g=a("8fea"),v=a("169a"),h=a("ce7e"),b=a("132d"),y=a("adda"),x=a("0fd9"),k=a("2fa4"),I=a("8654"),S=a("71d9"),C=a("2a7f"),w=Object(r["a"])(l,i,n,!1,null,null,null);e["default"]=w.exports;o()(w,{VBtn:c["a"],VCard:u["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:f["a"],VContainer:m["a"],VDataTable:g["a"],VDialog:v["a"],VDivider:h["a"],VIcon:b["a"],VImg:y["a"],VRow:x["a"],VSpacer:k["a"],VTextField:I["a"],VToolbar:S["a"],VToolbarTitle:C["a"]})},"0fd9":function(t,e,a){"use strict";a("4b85");var i=a("2b0e"),n=a("d9f7"),s=a("80d2");const l=["sm","md","lg","xl"],r=["start","end","center"];function d(t,e){return l.reduce((a,i)=>(a[t+Object(s["D"])(i)]=e(),a),{})}const o=t=>[...r,"baseline","stretch"].includes(t),c=d("align",()=>({type:String,default:null,validator:o})),u=t=>[...r,"space-between","space-around"].includes(t),p=d("justify",()=>({type:String,default:null,validator:u})),f=t=>[...r,"space-between","space-around","stretch"].includes(t),m=d("alignContent",()=>({type:String,default:null,validator:f})),g={align:Object.keys(c),justify:Object.keys(p),alignContent:Object.keys(m)},v={align:"align",justify:"justify",alignContent:"align-content"};function h(t,e,a){let i=v[t];if(null!=a){if(e){const a=e.replace(t,"");i+="-"+a}return i+="-"+a,i.toLowerCase()}}const b=new Map;e["a"]=i["default"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:o},...c,justify:{type:String,default:null,validator:u},...p,alignContent:{type:String,default:null,validator:f},...m},render(t,{props:e,data:a,children:i}){let s="";for(const n in e)s+=String(e[n]);let l=b.get(s);if(!l){let t;for(t in l=[],g)g[t].forEach(a=>{const i=e[a],n=h(t,a,i);n&&l.push(n)});l.push({"no-gutters":e.noGutters,"row--dense":e.dense,["align-"+e.align]:e.align,["justify-"+e.justify]:e.justify,["align-content-"+e.alignContent]:e.alignContent}),b.set(s,l)}return t(e.tag,Object(n["a"])(a,{staticClass:"row",class:l}),i)}})},"4b85":function(t,e,a){},"62ad":function(t,e,a){"use strict";a("4b85");var i=a("2b0e"),n=a("d9f7"),s=a("80d2");const l=["sm","md","lg","xl"],r=(()=>l.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),d=(()=>l.reduce((t,e)=>(t["offset"+Object(s["D"])(e)]={type:[String,Number],default:null},t),{}))(),o=(()=>l.reduce((t,e)=>(t["order"+Object(s["D"])(e)]={type:[String,Number],default:null},t),{}))(),c={col:Object.keys(r),offset:Object.keys(d),order:Object.keys(o)};function u(t,e,a){let i=t;if(null!=a&&!1!==a){if(e){const a=e.replace(t,"");i+="-"+a}return"col"!==t||""!==a&&!0!==a?(i+="-"+a,i.toLowerCase()):i.toLowerCase()}}const p=new Map;e["a"]=i["default"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...r,offset:{type:[String,Number],default:null},...d,order:{type:[String,Number],default:null},...o,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:a,children:i,parent:s}){let l="";for(const n in e)l+=String(e[n]);let r=p.get(l);if(!r){let t;for(t in r=[],c)c[t].forEach(a=>{const i=e[a],n=u(t,a,i);n&&r.push(n)});const a=r.some(t=>t.startsWith("col-"));r.push({col:!a||!e.cols,["col-"+e.cols]:e.cols,["offset-"+e.offset]:e.offset,["order-"+e.order]:e.order,["align-self-"+e.alignSelf]:e.alignSelf}),p.set(l,r)}return t(e.tag,Object(n["a"])(a,{class:r}),i)}})},a523:function(t,e,a){"use strict";a("20f6"),a("4b85");var i=a("2b0e");function n(t){return i["default"].extend({name:"v-"+t,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:a,data:i,children:n}){i.staticClass=`${t} ${i.staticClass||""}`.trim();const{attrs:s}=i;if(s){i.attrs={};const t=Object.keys(s).filter(t=>{if("slot"===t)return!1;const e=s[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e});t.length&&(i.staticClass+=" "+t.join(" "))}return a.id&&(i.domProps=i.domProps||{},i.domProps.id=a.id),e(a.tag,i,n)}})}var s=a("d9f7");e["a"]=n("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:a,children:i}){let n;const{attrs:l}=a;return l&&(a.attrs={},n=Object.keys(l).filter(t=>{if("slot"===t)return!1;const e=l[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e})),e.id&&(a.domProps=a.domProps||{},a.domProps.id=e.id),t(e.tag,Object(s["a"])(a,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(n||[])}),i)}})}}]);
//# sourceMappingURL=chunk-9cd03004.13428ccf.js.map